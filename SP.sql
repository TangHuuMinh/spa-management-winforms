CREATE DATABASE SP
GO
USE SP
GO
CREATE TABLE NHANVIEN
(
	MANV char(10) NOT NULL PRIMARY KEY,
	HOTEN nvarchar(50),
	GIOITINH nvarchar(10),
	CHUCVU nvarchar(30),
	NGSINH date,
	SDT char(12),
	EMAIL varchar(30),
	CCCD char(14),
	DIACHI nvarchar(max),
	ANH char(30),
	TRANGTHAI int default 1
)
GO
CREATE TABLE TAIKHOAN
(
	MANV char(10),
	MATKHAU nvarchar(30)
	Constraint FK_Account Foreign key(MANV) References NHANVIEN(MANV)
)
GO
CREATE TABLE KHACHHANG
(
	MAKH char(10) NOT NULL PRIMARY KEY,
	HOTEN nvarchar(40),
	GIOITINH nvarchar(10),
	PHANLOAI nvarchar(30),
	NGSINH date,
	SDT char(12),
	EMAIL varchar(30),
	DIEM int default 0,
	DIACHI nvarchar(max)
)
GO
CREATE TABLE LOAI_SANPHAM
(
	MALOAISP char(10) primary key not null,
	TENLOAISP nvarchar(40),
)
GO
CREATE TABLE SANPHAM
(
	MASP char(10) NOT NULL PRIMARY KEY,
	TENSP nvarchar(max),
	GIATIEN float,
	ANH nvarchar(30),
	MALOAISP char(10),
	NGAYTHEM datetime,
	SLTON int,
	Constraint FK_LOAI_SANPHAM Foreign key(MALOAISP) References LOAI_SANPHAM(MALOAISP)
)
GO
CREATE TABLE NHACUNGCAP
(
	MANCC char(10) NOT NULL PRIMARY KEY,
	TENNCC NVARCHAR(50),
	DIACHI NVARCHAR(max), 
	SDT CHAR(15),
	TRANGTHAI INT
)
GO
CREATE TABLE CUNGCAP_SANPHAM
(
	MANCC CHAR(10),
	MASP char(10),
	TRANGTHAI INT
	Constraint FK_CUNGCAP_NHACUNGCAP Foreign key(MANCC) References NHACUNGCAP(MANCC),
	Constraint FK_CUNGCAP_SANPHAM Foreign key(MASP) References SANPHAM(MASP)
)
GO
CREATE TABLE PHIEUNHAP
(
	MAHDCC CHAR(10) NOT NULL PRIMARY KEY,
	MANCC CHAR(10),
	NGAYDAT DATE,
	NGAYGIAO DATE,
	MANV char(10),
	NV_XACNHAN char(10)
	Constraint FK_HOADONCUNGCAP_NHACC Foreign key(MANCC) References NHACUNGCAP(MANCC),
	Constraint FK_HOADONCUNGCAP_NHANVIEN Foreign key(MANV) References NHANVIEN(MANV)
)
GO
CREATE TABLE CHITIET_PHIEUNHAP
(
	MAHDCC CHAR(10),
	MASP CHAR(10),
	GIA FLOAT,
	SOLUONG INT,
	Constraint FK_CHITIET_PHIEUNHAP Foreign key(MAHDCC) References PHIEUNHAP(MAHDCC),
	Constraint FK_CHITIET_PHIEUNHAP_SANPHAM Foreign key(MASP) References SANPHAM(MASP)
)
GO
CREATE TABLE LOAI_DICHVU
(
	MALOAIDV char(10) NOT NULL PRIMARY KEY,
	TENDV nvarchar(40),
)
GO
CREATE TABLE DICHVU
(
	MADV char(10) NOT NULL PRIMARY KEY,
	TENDV nvarchar(40),
	GIA float,
	ANH nvarchar(30),
	MALOAIDV char(10),
	TRANGTHAI INT
	Constraint FK_LOAIDICHVU Foreign key(MALOAIDV) References LOAI_DICHVU(MALOAIDV),
)
GO
CREATE TABLE LICH_HEN
(
    MALICHHEN int identity(1,1),
	MAKH char(10),
	MADV char(10),
	THOIGIAN_BATDAU char(10),
	THOIGIAN_KETTHUC char(10),
	NGAY_DAT_LICH date,
	TRANGTHAI int
	Constraint FK_KHACHHANG_LICHHEN Foreign key(MAKH) References KHACHHANG(MAKH),
	Constraint FK_DICHVU_LICHHEN Foreign key(MADV) References DICHVU(MADV)
)
GO
CREATE TABLE PHONG
(
	MAPH CHAR(10) NOT NULL PRIMARY KEY,
	TRANGTHAI INT
)
CREATE TABLE PHONG_DICHVU
(
	MAPH char(10),
	MADV char(10),
	TRANGTHAI nvarchar(20)
	Constraint FK_P_DICHVU Foreign key(MADV) References DICHVU(MADV),
	Constraint FK_PHONG_DV Foreign key(MAPH) References PHONG(MAPH)
)
GO
CREATE TABLE HOADON
(
	MAHD char(10) NOT NULL PRIMARY KEY,
	MAKH char(10),
	NGAYLAP datetime,
	MANV char(10)
	Constraint FK_HD_NHANVIEN Foreign key(MANV) References NHANVIEN(MANV)
)

GO
CREATE TABLE CHITIET_HOADON_SP
(
	MAHD char(10),
	MASP char(10),
	SOLUONG INT,
	GIA FLOAT
	Constraint FK_CHITIET_HOADON_SP_HOADON Foreign key(MAHD) References HOADON(MAHD),
	Constraint FK_CHITIET_HOADON_SP_SANPHAM Foreign key(MASP) References SANPHAM(MASP)
)
go
CREATE TABLE CHITIET_HOADON_DV
(
	MAHD char(10),
	MADV char(10),
	GIA FLOAT,
	MAPH char(10),
	Constraint FK_CHITIET_HOADON_DV_HOADON Foreign key(MAHD) References HOADON(MAHD),
	Constraint FK_CHITIET_HOADON_DV_DICHVU Foreign key(MADV) References DICHVU(MADV),
	Constraint FK_CHITIET_HOADON_DV_PHONG Foreign key(MAPH) References PHONG(MAPH)
)
GO
SET DATEFORMAT DMY
GO
INSERT NHANVIEN VALUES('QL001',N'Tăng Hữu Minh',N'Nam',N'Quản trị viên','19/6/2002','0907660215','Minh@gmail.com','079987654321',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('QL002',N'Hoàng Ngọc Khang',N'Nam',N'Quản trị viên','12/1/2004','0902640620','Khang@gmail.com','084256770917',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('QL003',N'Lê Minh Tiến',N'Nam',N'Quản trị viên','20/9/2003','0946730985','Tien@gmail.com','077234567890',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV001',N'Nguyễn Thùy Linh',N'nữ',N'Quản lý kho','23/1/1998','0762368186','Linh@gmail.com','093345678901',N'TP.Hồ Chí Minh','NV001.jpeg',1);
INSERT NHANVIEN VALUES('NV002',N'Dương Phú Toàn',N'Nam',N'Quản lý kho','14/2/2004','0904519286','Toan@gmail.com','080456789012',N'TP.Hồ Chí Minh','NV002.jpeg',1);
INSERT NHANVIEN VALUES('NV003',N'Nguyễn Thiện Nhân',N'Nam',N'Quản lý kho','2/4/2000','09346081288','Nhan@gmail.com','080456789012',N'TP.Hồ Chí Minh','NV003.jpeg',1);
INSERT NHANVIEN VALUES('NV004',N'Võ Minh Quân',N'Nam',N'Quản lý kho','25/3/2005','0934446257','Quan@gmail.com','068567890123',N'TP.Hồ Chí Minh','NV004.jpeg',1);
INSERT NHANVIEN VALUES('NV005',N'Đỗ Uyên My',N'Nữ',N'Quản lý kho','17/7/1998','0374292353','My@gmail.com','049678901234',N'TP.Hồ Chí Minh','NV005.jpeg',1);
INSERT NHANVIEN VALUES('NV006',N'Lê Tiến Đạt',N'nữ',N'Nhân viên bán hàng','26/7/1999','0342652567','Dat@gmail.com','051789012345',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV007',N'Nguyễn Thành Hưng',N'Nam',N'Nhân viên bán hàng','24/12/1999','0987999834','Hung@gmail.com','079890123456',N'TP.Hồ Chí Minh','NV007.jpeg',1);
INSERT NHANVIEN VALUES('NV008',N'Phạm Nhật Hạ',N'Nữ',N'Nhân viên bán hàng','23/1/2000','0778358989','Ha@gmail.com','074901234567',N'TP.Hồ Chí Minh','NV008.jpeg',1);
INSERT NHANVIEN VALUES('NV009',N'Trần Thị Mỹ Linh',N'nữ',N'Nhân viên bán hàng','14/1/2005','0344776300','Linh@gmail.com','0790125773478',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV010',N'Nguyễn Nhật Đình Phong',N'Nam',N'Nhân viên bán hàng','21/9/2002','0365384749','Phong@gmail.com','096123098765',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV011',N'Nguyễn Hải Đăng',N'Nam',N'Nhân viên bán hàng','15/8/2000','0912566975','Dang@gmail.com','095234109876',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV012',N'Phạm Bá Duy',N'Nam',N'Nhân viên bán hàng','4/1/2002','0914562599','Duy@gmail.com','080345210987',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV013',N'Nguyễn Công Danh',N'Nam',N'Nhân viên bán hàng','31/1/2001','0869518286','Danh@gmail.com','080456321098',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV014',N'Hoàng Ái Đoan Trang',N'Nữ',N'Nhân viên phục vụ','17/3/2000','0388274575','Trang@gmail.com','080567432109',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV015',N'Phạm Ngọc Lan Anh',N'nữ',N'Nhân viên phục vụ','17/11/1997','0399964438','LAnh@gmail.com','080678566610',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV016',N'Trần Minh Hoàng',N'Nam',N'Nhân viên phục vụ','1/8/1998','0973065555','Hoang@gmail.com','086789689321',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV017',N'Lê Hoàng Hải Bình',N'Nam',N'Nhân viên phục vụ','25/2/2000','0367111823','Binh@gmail.com','087890765432',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV018',N'Đinh Thiên Ân',N'Nam',N'Nhân viên phục vụ','15/11/2000','0703889215','Dat@gmail.com','087901876543',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV019',N'Lê Đỗ Mỹ Huyền',N'Nữ',N'Nhân viên phục vụ','14/4/1998','0878278669','Huyen@gmail.com','079012987654',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV020',N'Đặng Quỳnh Anh',N'Nữ',N'Nhân viên phục vụ','3/10/2000','0877856959','QAnh@gmail.com','079123098765',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV021',N'Huỳnh Mẫn Nhi',N'nữ',N'Nhân viên phục vụ','6/10/1999','0878278773','Nhi@gmail.com','092234109876',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV022',N'Vũ Thùy An',N'Nữ',N'Nhân viên phục vụ','2/12/2000','0922556771','An@gmail.com','067666781222',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV023',N'Lương Ngọc Bích',N'Nữ',N'Nhân viên phục vụ','28/2/2001','0348210008','Bich@gmail.com','079875678931',N'TP.Hồ Chí Minh',null,1);
INSERT NHANVIEN VALUES('NV024',N'Lê Bảo Hân',N'Nữ',N'Nhân viên phục vụ','8/10/1998','0775633289','Han@gmail.com','087336777218',N'TP.Hồ Chí Minh',null,1);
GO
INSERT TAIKHOAN VALUES('QL001','QL001')
INSERT TAIKHOAN VALUES('QL002','QL002')
INSERT TAIKHOAN VALUES('QL003','QL003')
INSERT TAIKHOAN VALUES('NV001','NV001')
INSERT TAIKHOAN VALUES('NV002','NV002')
INSERT TAIKHOAN VALUES('NV003','NV003')
INSERT TAIKHOAN VALUES('NV004','NV004')
INSERT TAIKHOAN VALUES('NV005','NV005')
INSERT TAIKHOAN VALUES('NV006','NV006')
INSERT TAIKHOAN VALUES('NV007','NV007')
INSERT TAIKHOAN VALUES('NV008','NV008')
INSERT TAIKHOAN VALUES('NV009','NV009')
INSERT TAIKHOAN VALUES('NV010','NV010')
INSERT TAIKHOAN VALUES('NV011','NV011')
INSERT TAIKHOAN VALUES('NV012','NV012')
INSERT TAIKHOAN VALUES('NV013','NV013')
INSERT TAIKHOAN VALUES('NV014','NV014')
INSERT TAIKHOAN VALUES('NV015','NV015')
INSERT TAIKHOAN VALUES('NV016','NV016')
INSERT TAIKHOAN VALUES('NV017','NV017')
INSERT TAIKHOAN VALUES('NV018','NV018')
INSERT TAIKHOAN VALUES('NV019','NV019')
INSERT TAIKHOAN VALUES('NV020','NV020')
INSERT TAIKHOAN VALUES('NV021','NV021')
INSERT TAIKHOAN VALUES('NV022','NV022')
INSERT TAIKHOAN VALUES('NV023','NV023')
GO
INSERT KHACHHANG VALUES('KH001',N'Tăng Hữu Minh',N'Nam',N'VIP','19/6/2002','0907660215','Minh@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH002',N'Hoàng Ngọc Khang',N'Nam',N'VIP','12/1/2004','0902640620','Khang@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH003',N'Lê Minh Tiến',N'Nam',N'VIP','20/9/2003','0946730985','Tien@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH004',N'Nguyễn Thùy Linh',N'nữ',N'Thân thiết','23/1/1998','0762368186','Linh@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH005',N'Dương Phú Toàn',N'Nam',N'Thân thiết','14/2/2004','0904519286','Toan@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH006',N'Nguyễn Thiện Nhân',N'Nam',N'Thân thiết','2/4/2000','09346081288','Nhan@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH007',N'Võ Minh Quân',N'Nam',N'Thân thiết','25/3/2005','0934446257','Quan@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH008',N'Đỗ Uyên My',N'Nữ',N'Thân thiết','17/7/1998','0374292353','My@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH009',N'Lê Tiến Đạt',N'nữ',N'Thân thiết','26/7/1999','0342652567','Dat@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH010',N'Nguyễn Thành Hưng',N'Nam',N'Thân thiết','24/12/1999','0987999834','Hung@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH011',N'Phạm Nhật Hạ',N'Nữ',N'Thân thiết','23/1/2000','0778358989','Ha@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH012',N'Trần Thị Mỹ Linh',N'nữ',N'Thân thiết','14/1/2005','0344776300','Linh@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH013',N'Nguyễn Nhật Đình Phong',N'Nam',N'Thân thiết','21/9/2002','0365384749','Phong@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH014',N'Nguyễn Hải Đăng',N'Nam',N'Thân thiết','15/8/2000','0912566975','Dang@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH015',N'Phạm Bá Duy',N'Nam',N'Thân thiết','4/1/2002','0914562599','Duy@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH016',N'Nguyễn Công Danh',N'Nam',N'Thân thiết','31/1/2001','0869518286','Danh@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH017',N'Hoàng Ái Đoan Trang',N'Nữ',N'Thân thiết','17/3/2000','0388274575','Trang@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH018',N'Phạm Ngọc Lan Anh',N'nữ',N'Thân thiết','17/11/1997','0399964438','LAnh@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH019',N'Trần Minh Hoàng',N'Nam',N'Thân thiết','1/8/1998','0973065555','Hoang@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH020',N'Lê Hoàng Hải Bình',N'Nam',N'Thân thiết','25/2/2000','0367111823','Binh@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH021',N'Đinh Thiên Ân',N'Nam',N'Thân thiết','15/11/2000','0703889215','Dat@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH022',N'Lê Đỗ Mỹ Huyền',N'Nữ',N'Thân thiết','14/4/1998','0878278669','Huyen@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH023',N'Đặng Quỳnh Anh',N'Nữ',N'Thân thiết','3/10/2000','0877856959','QAnh@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH024',N'Huỳnh Mẫn Nhi',N'nữ',N'Thân thiết','6/10/1999','0878278773','Nhi@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH025',N'Vũ Thùy An',N'Nữ',N'Thân thiết','2/12/2000','0922556771','An@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH026',N'Lương Ngọc Bích',N'Nữ',N'Thân thiết','28/2/2001','0348210008','Bich@gmail.com',0,N'TP.Hồ Chí Minh');
INSERT KHACHHANG VALUES('KH027',N'Lê Bảo Hân',N'Nữ',N'Thân thiết','8/10/1998','0775633289','Han@gmail.com',0,N'TP.Hồ Chí Minh');
GO
INSERT LOAI_SANPHAM values('LSP001',N'Son dưỡng')
INSERT LOAI_SANPHAM values('LSP002',N'Kem dưỡng')
INSERT LOAI_SANPHAM values('LSP003',N'Trà thảo mộc')
INSERT LOAI_SANPHAM values('LSP004',N'Sửa rữa mặt')
INSERT LOAI_SANPHAM values('LSP005',N'Mặt nạ')
INSERT LOAI_SANPHAM values('LSP006',N'Xà phồng')
GO
INSERT SANPHAM values('SP001',N'Son dưỡng môi DHC',165000,null,'LSP001','1/8/2024',10)
INSERT SANPHAM values('SP002',N'Son Dưỡng Môi Mediheal Ban Ngày Màu Hồng',65000,null,'LSP001','1/8/2024',10)
INSERT SANPHAM values('SP003',N'Son Dưỡng Cocoon Dầu Dừa Bến Tre 5g',26000,null,'LSP001','1/8/2024',10)
INSERT SANPHAM values('SP004',N'Son Dưỡng Môi Vaseline Hồng Xinh 4.8gr',55000,null,'LSP001','1/8/2024',10)
INSERT SANPHAM values('SP005',N'Son Dưỡng Môi Vaseline Mềm Mịn 4.8gr',63000,null,'LSP001','1/8/2024',10)
INSERT SANPHAM values('SP006',N'Son Dưỡng LipIce Hiệu Chỉnh Sắc Môi - Đỏ Mọng 2.4gr',61000,null,'LSP001','1/8/2024',10)
INSERT SANPHAM values('SP007',N'Son Dưỡng LipIce Hương Trà Dâu 2.4gr',64000,null,'LSP001','1/8/2024',10)
INSERT SANPHAM values('SP008',N'Son Dưỡng Môi Curel Cấp Ẩm CHuyên Sâu Không Màu',217000,null,'LSP001',GETDATE(),10)
INSERT SANPHAM values('SP009',N'Son Dưỡng Mentholatum Chuyên Biệt Cho Môi Khô',49000,null,'LSP001',GETDATE(),10)

INSERT SANPHAM values('SP010',N'Kem Dưỡng La Roche-Posay Giúp Phục Hồi Da Đa Công Dụng 40ml',258000,null,'LSP002','2/8/2024',10)
INSERT SANPHAM values('SP011',N'Kem Dưỡng Olay Luminous Sáng Da Mờ Thâm Nám Ban Đêm 50g',188000,null,'LSP002','2/8/2024',10)
INSERT SANPHAM values('SP012',N'Kem Dưỡng Ẩm Klairs làm Dịu & Phục Hồi Da Ban Đêm',305000,null,'LSP002','2/8/2024',10)
INSERT SANPHAM values('SP013',N'Kem Dưỡng Vichy Sáng Da Mờ Thâm Nám Ban Đêm',710000,null,'LSP002','2/8/2024',10)
INSERT SANPHAM values('SP014',N'Kem Dưỡng L*Oreal Paris Sáng Mịn Mờ Thâm Nám',397000,null,'LSP002','2/8/2024',10)
INSERT SANPHAM values('SP015',N'Kem Dưỡng GoodnDoc Rau Má Dưỡng Ẩm Phục Hồi Da',188000,null,'LSP002','2/8/2024',10)
INSERT SANPHAM values('SP016',N'Kem Dưỡng Skin1004 Làm Dịu Da Chiết Xuất Rau Má',259000,null,'LSP002','2/8/2024',10)
INSERT SANPHAM values('SP017',N'Kem Dưỡng Im from Dưỡng Ẩm Và Kiểm Soát Dầu 75gr',319000,null,'LSP002',GETDATE(),10)

INSERT SANPHAM values('SP018',N'Trà thảo mộc dưỡng nhan',114000,null,'LSP003','1/9/2024',10)
INSERT SANPHAM values('SP019',N'Trà dưỡng nhan FECVEN',169000,null,'LSP003','1/9/2024',10)
INSERT SANPHAM values('SP020',N'Trà nấm linh chi túi lọc',199000,null,'LSP003','1/9/2024',10)
INSERT SANPHAM values('SP021',N'Trà gừng hoa cúc',169000,null,'LSP003','1/9/2024',10)
INSERT SANPHAM values('SP022',N'Trà gạo lức mix 5 vị thanh lọc cơ thể',185000,null,'LSP003','1/9/2024',10)
INSERT SANPHAM values('SP023',N'Trà gạo lức táo đỏ',169000,null,'LSP003',GETDATE(),10)

INSERT SANPHAM values('SP024',N'Sữa Rửa Mặt Decumar',98000,null,'LSP004','2/9/2024',10)
INSERT SANPHAM values('SP025',N'Sữa Rửa Mặt Cetaphil Dịu Lành Cho Da Nhạy Cảm 500ml',309000,null,'LSP004','2/9/2024',10)
INSERT SANPHAM values('SP026',N'Sữa Rửa Mặt Trà Xanh innisfree',150000,null,'LSP004','2/9/2024',10)
INSERT SANPHAM values('SP027',N'Sữa Rửa Mặt St.Ives Blackhead',210000,null,'LSP004','2/9/2024',10)
INSERT SANPHAM values('SP028',N'Sữa Rửa Mặt Trà Xanh Naive',130000,null,'LSP004','2/9/2024',10)
INSERT SANPHAM values('SP029',N'Sữa Rửa Mặt CeraVe Sạch Sâu Cho Da',358000,null,'LSP004','2/9/2024',10)
INSERT SANPHAM values('SP030',N'Sữa Rửa Mặt Simple Giúp Da Sạch thoáng',95000,null,'LSP004','2/9/2024',10)
INSERT SANPHAM values('SP031',N'Sữa Rửa Mặt Hada Labo Sạch Sâu Dưỡng Ẩm',64000,null,'LSP004','2/9/2024',10)
INSERT SANPHAM values('SP032',N'Sữa Rửa Mặt SVR không chứa xà phòng cho da dầu',110000,null,'LSP004','2/9/2024',10)
INSERT SANPHAM values('SP033',N'Sữa Rửa Mặt Neutrogena Làm Sạch Sâu Dạng Gel',98000,null,'LSP004',GETDATE(),10)

INSERT SANPHAM values('SP034',N'Hộp 8 Miếng Mặt Nạ Naruko Tràm Trà Kiềm Dầu Giảm Mụn 26ml/M',189000,null,'LSP005','12/9/2024',10)
INSERT SANPHAM values('SP035',N'Mặt Nạ Banobagi Dưỡng Sáng Và Cấp Ẩm Cho Da 30g (Xanh)',90000,null,'LSP005','12/9/2024',10)
INSERT SANPHAM values('SP036',N'Mặt Nạ Nghệ Hưng Yên Cocoon',232000,null,'LSP005','12/9/2024',10)
INSERT SANPHAM values('SP037',N'Mặt Nạ Wonjin Cấp Ẩm Chuyên Sâu',23000,null,'LSP005','12/9/2024',10)
INSERT SANPHAM values('SP038',N'Mặt Nạ Foodaholic Hyaluronic Acid Cấp Ẩm',10000,null,'LSP005','12/9/2024',10)
INSERT SANPHAM values('SP039',N'Mặt Nạ Tẩy Tế Bào Chết Huxley CHo Da Mịn Màng',91000,null,'LSP005','12/9/2024',10)
INSERT SANPHAM values('SP040',N'Mặt Nạ Tràm Trà Giúp Thải Độc Da',22000,null,'LSP005',GETDATE(),10)
INSERT SANPHAM values('SP041',N'Mặt Nạ BNBG Vitamin A Ngăn Ngừa Lão Hóa Da',18000,null,'LSP005',GETDATE(),10)

INSERT SANPHAM values('SP042',N'Xà Phòng Derladie Làm Sạch Và Giảm Mụn Cơ Thể 50g',75000,null,'LSP006','2/10/2024',10)
INSERT SANPHAM values('SP043',N'Xà Phòng Milaganics Thảo Mộc Trà Xanh 100g',68000,null,'LSP006','2/10/2024',10)
INSERT SANPHAM values('SP044',N'Xà Phòng Tắm Giúp Giảm Mụn Lưng',149000,null,'LSP006','2/10/2024',10)
INSERT SANPHAM values('SP045',N'Xà Phòng Thơm Cindy Bloom Romantic Muse Quyến Rũ',27000,null,'LSP006','2/10/2024',10)
INSERT SANPHAM values('SP046',N'Xà Phòng Tắm Hương Nước Hoa Showermate',45000,null,'LSP006',GETDATE(),10)
INSERT SANPHAM values('SP047',N'Xà Phòng hương Gạo',459000,null,'LSP006',GETDATE(),10)

GO
INSERT NHACUNGCAP VALUES('NCC001',N'DHC Việt Nam',N'170 Lê Thành, Q.Đống Đa, Hà Nôị','02399996789',1)
INSERT NHACUNGCAP VALUES('NCC002',N'Công ty TNHH Mediheal Việt Nam',N'Lô A1-A2, Nam Trân, Hòa Minh, Q.Liên Chiểu, Đà Nẵng','02466752212',1)
INSERT NHACUNGCAP VALUES('NCC003',N'IFREE BEAUTY',N'102, đường số 3, Bình Hưng Hòa, Q.Bình Tân, TP Hồ Chí Minh','0942192020',1)
INSERT NHACUNGCAP VALUES('NCC004',N'Công ty sản xuất kem trắng da',N'412 Nguyễn Thị Minh Khai, P.5, Q.3, TP Hồ Chí Minh','0949906969',1)
INSERT NHACUNGCAP VALUES('NCC005',N'Công ty TNHH Mỹ Phẩm Dạ Lan',N'Số 37,đuòng số 4, Khu Citiland Garden, P.5, Q.Gò Vấp, TP Hồ Chí Minh','02856798427',1)
INSERT NHACUNGCAP VALUES('NCC006',N'VietCos Đại Việt Hương',N'111 Nguyễn Trãi, Q.1,TP Hồ Chí Minh','02322831895',1)
INSERT NHACUNGCAP VALUES('NCC007',N'HANI',N'43, Nguyễn Bá  Tòng, phường 11, Q.Tân Bình, TP Hồ Chí Minh','02863974083',1)
INSERT NHACUNGCAP VALUES('NCC008',N'Hóa Mỹ Phẩm Gamma',N'18 Nguyễn Hậu, phường Tân Thành, Q.Tân Phú, TP Hồ Chí Minh','0283923707',1)
INSERT NHACUNGCAP VALUES('NCC009',N'Hóa Dược Shizencos',N'Nguyễn Tri Phương, P.9, Q.5, TP Hồ Chí Minh','02252567896',1)
GO
INSERT CUNGCAP_SANPHAM VALUES('NCC001','SP001',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC001','SP002',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC001','SP003',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC001','SP004',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC001','SP005',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC003','SP006',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC003','SP007',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC003','SP008',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC003','SP009',1)

INSERT CUNGCAP_SANPHAM VALUES('NCC004','SP010',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC004','SP011',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC004','SP012',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC004','SP013',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC004','SP014',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC008','SP015',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC008','SP016',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC008','SP017',1)

INSERT CUNGCAP_SANPHAM VALUES('NCC007','SP018',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC007','SP019',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC007','SP020',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC007','SP021',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC007','SP022',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC007','SP023',1)

INSERT CUNGCAP_SANPHAM VALUES('NCC002','SP024',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC002','SP025',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC002','SP026',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC002','SP027',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC005','SP028',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC005','SP029',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC005','SP030',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC005','SP031',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC005','SP032',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC005','SP033',1)

INSERT CUNGCAP_SANPHAM VALUES('NCC009','SP034',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC009','SP035',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC009','SP036',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC009','SP037',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC009','SP038',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC009','SP039',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC009','SP040',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC009','SP041',1)

INSERT CUNGCAP_SANPHAM VALUES('NCC006','SP042',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC006','SP043',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC006','SP044',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC006','SP045',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC006','SP046',1)
INSERT CUNGCAP_SANPHAM VALUES('NCC006','SP047',1)

GO
INSERT LOAI_DICHVU values('LDV001',N'Chăm sóc da')
INSERT LOAI_DICHVU values('LDV002',N'Triệt lông')
INSERT LOAI_DICHVU values('LDV003',N'Điều trị')
INSERT LOAI_DICHVU values('LDV004',N'Tẩy tế bào chết')
INSERT LOAI_DICHVU values('LDV005',N'Giảm béo')
INSERT LOAI_DICHVU values('LDV006',N'Xông hơi')
INSERT LOAI_DICHVU values('LDV007',N'Massage')
INSERT LOAI_DICHVU values('LDV008',N'Tắm trắng')
GO    
INSERT DICHVU values('DV005',N'Thải độc tố cho da',200000,null,'LDV001',1)
INSERT DICHVU values('DV006',N'Cung cấp vitamin C',200000,null,'LDV001',1)
INSERT DICHVU values('DV007',N'Vệ sinh, đắp mặt nạ trái cây',120000,null,'LDV001',1)
INSERT DICHVU values('DV008',N'Cấy tảo Nano',4000000,null,'LDV001',1)
INSERT DICHVU values('DV010',N'Trẻ hóa da',4000000,null,'LDV001',1)
INSERT DICHVU values('DV019',N'Chăm sóc da mặt',400000,null,'LDV001',1)
INSERT DICHVU values('DV020',N'Chăm sóc da toàn thân',3000000,null,'LDV001',1)
INSERT DICHVU values('DV012',N'Triệt lông vĩnh viễn',1000000,null,'LDV002',1)
INSERT DICHVU values('DV015',N'Triệt lông vùng chân',1000000,null,'LDV002',1)
INSERT DICHVU values('DV016',N'Triệt lông vùng tay',1000000,null,'LDV002',1)
INSERT DICHVU values('DV017',N'Triệt lông vùng nách',1000000,null,'LDV002',1)
INSERT DICHVU values('DV011',N'Điều trị sẹo',2000000,null,'LDV003',1)
INSERT DICHVU values('DV004',N'Điều trị mụn 5 bước',250000,null,'LDV003',1)
INSERT DICHVU values('DV001',N'Tẩy tế bào chết face',50000,null,'LDV004',1)
INSERT DICHVU values('DV002',N'Tẩy tế bào chết body',200000,null,'LDV004',1)
INSERT DICHVU values('DV014',N'Giảm béo',1000000,null,'LDV005',1)
INSERT DICHVU values('DV013',N'Xông hơi',1000000,null,'LDV006',1)
INSERT DICHVU values('DV018',N'Xông hơi loại A',2000000,null,'LDV006',1)
INSERT DICHVU values('DV003',N'Massage, ấn huyệt đầu cổ',200000,null,'LDV007',1)
INSERT DICHVU values('DV009',N'Tắm trắng',3000000,null,'LDV008',1)
GO
INSERT LICH_HEN VALUES('KH011','DV001','13:00','15:00','13/12/2024',0)
INSERT LICH_HEN VALUES('KH021','DV003','10:00','14:00','13/12/2024',0)
INSERT LICH_HEN VALUES('KH014','DV006','14:00','17:00','14/12/2024',0)
INSERT LICH_HEN VALUES('KH017','DV001','19:00','21:00','14/12/2024',0)
INSERT LICH_HEN VALUES('KH021','DV003','17:00','20:00','14/12/2024',0)
INSERT LICH_HEN VALUES('KH002','DV001','18:00','20:00','14/12/2024',0)
INSERT LICH_HEN VALUES('KH005','DV004','14:00','18:00','15/12/2024',0)
INSERT LICH_HEN VALUES('KH023','DV008','09:00','15:00','15/12/2024',0)
INSERT LICH_HEN VALUES('KH021','DV011','10:00','14:00','15/12/2024',0)
INSERT LICH_HEN VALUES('KH011','DV020','11:00','13:00','16/12/2024',0)
INSERT LICH_HEN VALUES('KH022','DV019','13:00','16:00','16/12/2024',0)
INSERT LICH_HEN VALUES('KH022','DV005','13:00','15:00','17/12/2024',0)
INSERT LICH_HEN VALUES('KH003','DV010','10:00','13:00','17/12/2024',0)
INSERT LICH_HEN VALUES('KH001','DV013','14:00','16:00','17/12/2024',0)
INSERT LICH_HEN VALUES('KH007','DV018','15:00','17:00','18/12/2024',0)
INSERT LICH_HEN VALUES('KH010','DV020','09:00','16:00','19/12/2024',0)
GO
INSERT PHONG VALUES('P101',1)
INSERT PHONG VALUES('P102',1)
INSERT PHONG VALUES('P103',1)
INSERT PHONG VALUES('P104',1)
INSERT PHONG VALUES('P105',1)
INSERT PHONG VALUES('P106',1)
INSERT PHONG VALUES('P107',1)
INSERT PHONG VALUES('P108',1)
INSERT PHONG VALUES('P109',1)
INSERT PHONG VALUES('P110',1)
INSERT PHONG VALUES('P111',1)
INSERT PHONG VALUES('P112',1)
INSERT PHONG VALUES('P113',1)
INSERT PHONG VALUES('P114',1)
INSERT PHONG VALUES('P115',1)
INSERT PHONG VALUES('P116',1)
INSERT PHONG VALUES('P117',1)
INSERT PHONG VALUES('P118',1)
INSERT PHONG VALUES('P119',1)
INSERT PHONG VALUES('P120',1)
INSERT PHONG VALUES('P201',1)
INSERT PHONG VALUES('P202',1)
INSERT PHONG VALUES('P203',1)
INSERT PHONG VALUES('P204',1)
INSERT PHONG VALUES('P205',1)
INSERT PHONG VALUES('P206',1)
INSERT PHONG VALUES('P207',1)
INSERT PHONG VALUES('P208',1)
INSERT PHONG VALUES('P209',1)
INSERT PHONG VALUES('P210',1)
INSERT PHONG VALUES('P211',1)
INSERT PHONG VALUES('P212',1)
INSERT PHONG VALUES('P213',1)
INSERT PHONG VALUES('P214',1)
INSERT PHONG VALUES('P215',1)
INSERT PHONG VALUES('P216',1)
INSERT PHONG VALUES('P217',1)
INSERT PHONG VALUES('P218',1)
INSERT PHONG VALUES('P219',1)
INSERT PHONG VALUES('P220',1)
INSERT PHONG VALUES('P301',1)
INSERT PHONG VALUES('P302',1)
INSERT PHONG VALUES('P303',1)
INSERT PHONG VALUES('P304',1)
INSERT PHONG VALUES('P305',1)
INSERT PHONG VALUES('P306',1)
INSERT PHONG VALUES('P307',1)
INSERT PHONG VALUES('P308',1)
INSERT PHONG VALUES('P309',1)
INSERT PHONG VALUES('P310',1)
INSERT PHONG VALUES('P311',1)
INSERT PHONG VALUES('P312',1)
INSERT PHONG VALUES('P313',1)
INSERT PHONG VALUES('P314',1)
INSERT PHONG VALUES('P315',1)

GO
INSERT PHONG_DICHVU VALUES('P101','DV018',0)
INSERT PHONG_DICHVU VALUES('P102','DV018',0)
INSERT PHONG_DICHVU VALUES('P103','DV018',0)
INSERT PHONG_DICHVU VALUES('P104','DV013',0)
INSERT PHONG_DICHVU VALUES('P105','DV013',0)
INSERT PHONG_DICHVU VALUES('P106','DV013',0)
INSERT PHONG_DICHVU VALUES('P107','DV003',0)
INSERT PHONG_DICHVU VALUES('P108','DV003',0)
INSERT PHONG_DICHVU VALUES('P109','DV003',0)
INSERT PHONG_DICHVU VALUES('P110','DV003',0)
INSERT PHONG_DICHVU VALUES('P111','DV003',0)
INSERT PHONG_DICHVU VALUES('P112','DV003',0)
INSERT PHONG_DICHVU VALUES('P113','DV003',0)
INSERT PHONG_DICHVU VALUES('P114','DV003',0)
INSERT PHONG_DICHVU VALUES('P115','DV009',0)
INSERT PHONG_DICHVU VALUES('P116','DV009',0)
INSERT PHONG_DICHVU VALUES('P117','DV009',0)
INSERT PHONG_DICHVU VALUES('P118','DV009',0)
INSERT PHONG_DICHVU VALUES('P119','DV009',0)
INSERT PHONG_DICHVU VALUES('P120','DV009',0)

INSERT PHONG_DICHVU VALUES('P201','DV012',0)
INSERT PHONG_DICHVU VALUES('P202','DV012',0)
INSERT PHONG_DICHVU VALUES('P203','DV012',1)
INSERT PHONG_DICHVU VALUES('P204','DV015',1)
INSERT PHONG_DICHVU VALUES('P205','DV015',1)
INSERT PHONG_DICHVU VALUES('P206','DV016',0)
INSERT PHONG_DICHVU VALUES('P207','DV016',0)
INSERT PHONG_DICHVU VALUES('P208','DV017',0)
INSERT PHONG_DICHVU VALUES('P209','DV008',1)
INSERT PHONG_DICHVU VALUES('P210','DV011',1)
INSERT PHONG_DICHVU VALUES('P211','DV011',0)
INSERT PHONG_DICHVU VALUES('P212','DV011',1)
INSERT PHONG_DICHVU VALUES('P213','DV014',0)
INSERT PHONG_DICHVU VALUES('P214','DV014',1)
INSERT PHONG_DICHVU VALUES('P215','DV014',1)
INSERT PHONG_DICHVU VALUES('P216','DV001',1)
INSERT PHONG_DICHVU VALUES('P217','DV001',0)
INSERT PHONG_DICHVU VALUES('P218','DV001',1)
INSERT PHONG_DICHVU VALUES('P219','DV002',1)
INSERT PHONG_DICHVU VALUES('P220','DV002',0)

INSERT PHONG_DICHVU VALUES('P301','DV005',0)
INSERT PHONG_DICHVU VALUES('P302','DV005',0)
INSERT PHONG_DICHVU VALUES('P303','DV005',0)
INSERT PHONG_DICHVU VALUES('P304','DV006',0)
INSERT PHONG_DICHVU VALUES('P305','DV006',0)
INSERT PHONG_DICHVU VALUES('P306','DV007',0)
INSERT PHONG_DICHVU VALUES('P307','DV007',0)
INSERT PHONG_DICHVU VALUES('P308','DV008',0)
INSERT PHONG_DICHVU VALUES('P309','DV008',0)
INSERT PHONG_DICHVU VALUES('P310','DV010',1)
INSERT PHONG_DICHVU VALUES('P311','DV019',1)
INSERT PHONG_DICHVU VALUES('P312','DV019',0)
INSERT PHONG_DICHVU VALUES('P313','DV019',1)
INSERT PHONG_DICHVU VALUES('P314','DV020',1)
INSERT PHONG_DICHVU VALUES('P315','DV020',1)
GO

INSERT PHIEUNHAP VALUES('HDCC001','NCC001','23/7/2024','1/8/2024','QL001','QL001')
INSERT PHIEUNHAP VALUES('HDCC002','NCC003','23/7/2024','1/8/2024','QL001','QL001')
INSERT PHIEUNHAP VALUES('HDCC003','NCC004','24/7/2024','2/8/2024','QL001','QL001')
INSERT PHIEUNHAP VALUES('HDCC004','NCC008','24/7/2024','2/8/2024','QL002','QL002')
INSERT PHIEUNHAP VALUES('HDCC005','NCC007','23/8/2024','1/9/2024','QL002','QL002')
INSERT PHIEUNHAP VALUES('HDCC006','NCC002','24/8/2024','2/9/2024','QL002','QL002')
INSERT PHIEUNHAP VALUES('HDCC007','NCC005','24/8/2024','2/9/2024','QL003','QL003')
INSERT PHIEUNHAP VALUES('HDCC008','NCC009','5/9/2024','12/9/2024','QL003','QL003')
INSERT PHIEUNHAP VALUES('HDCC009','NCC006','25/9/2024','2/10/2024','QL003','QL003')

INSERT PHIEUNHAP VALUES('HDCC010','NCC003',GetDate(),null,'QL001',null)
INSERT PHIEUNHAP VALUES('HDCC011','NCC008',GetDate(),null,'QL001',null)
INSERT PHIEUNHAP VALUES('HDCC012','NCC007',GetDate(),null,'QL002',null)
INSERT PHIEUNHAP VALUES('HDCC013','NCC005',GetDate(),null,'QL002',null)
INSERT PHIEUNHAP VALUES('HDCC014','NCC009',GetDate(),null,'QL003',null)
INSERT PHIEUNHAP VALUES('HDCC015','NCC006',GetDate(),null,'QL003',null)
GO
INSERT CHITIET_PHIEUNHAP VALUES('HDCC001','SP001',120000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC001','SP002',40000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC001','SP003',20000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC001','SP004',50000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC001','SP005',40000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC002','SP006',50000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC002','SP007',50000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC003','SP010',210000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC003','SP011',150000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC003','SP012',250000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC003','SP013',500000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC003','SP014',250000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC004','SP015',150000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC004','SP016',200000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC005','SP018',70000,30)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC005','SP019',100000,30)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC005','SP020',130000,30)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC005','SP021',100000,30)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC005','SP022',120000,30)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC006','SP024',70000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC006','SP025',250000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC006','SP026',100000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC006','SP027',150000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC007','SP028',100000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC007','SP029',250000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC007','SP030',50000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC007','SP031',50000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC007','SP032',80000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC008','SP034',150000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC008','SP035',70000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC008','SP036',180000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC008','SP037',12000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC008','SP038',5000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC008','SP039',70000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC009','SP042',40000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC009','SP043',40000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC009','SP044',120000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC009','SP045',16000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC010','SP008',150000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC010','SP009',150000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC011','SP017',250000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC012','SP023',100000,30)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC013','SP033',50000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC014','SP040',11000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC014','SP041',130000,100)

INSERT CHITIET_PHIEUNHAP VALUES('HDCC015','SP046',25000,100)
INSERT CHITIET_PHIEUNHAP VALUES('HDCC015','SP047',280000,100)
GO

INSERT HOADON VALUES('HD001',null,'1/8/2024','NV001')
INSERT HOADON VALUES('HD002','KH007','1/8/2024','NV001')
INSERT HOADON VALUES('HD003','KH011','1/8/2024','NV002')
INSERT HOADON VALUES('HD004','KH002','3/8/2024','NV002')
INSERT HOADON VALUES('HD005',null,'3/8/2024','NV005')
insert HOADON VALUES('HD006',null,null,null)
insert HOADON VALUES('HD007',null,null,null)
insert HOADON VALUES('HD008',null,null,null)
insert HOADON VALUES('HD009',null,null,null)
GO

CREATE TRIGGER CAPNHAT_TRANGTHAI_PHONG_THEMDV ON CHITIET_HOADON_DV
FOR INSERT
AS
BEGIN
	UPDATE PHONG_DICHVU SET TRANGTHAI = 1 WHERE MAPH = (SELECT MAPH FROM inserted)
END
GO



CREATE TRIGGER CAPNHAT_TRANGTHAI_PHONG_XOADV ON CHITIET_HOADON_DV
FOR DELETE
AS
BEGIN
	UPDATE PHONG_DICHVU SET TRANGTHAI = 0 WHERE MAPH = (SELECT MAPH FROM deleted)
END
GO



CREATE TRIGGER CAPNHAT_SOLUONGTON_THEM_HD ON CHITIET_HOADON_SP
FOR INSERT
AS 
BEGIN
	DECLARE @SL INT
	SELECT @SL = SOLUONG FROM inserted
	UPDATE SANPHAM SET SLTON -= @SL WHERE MASP =  (SELECT MASP FROM inserted)
END
GO



CREATE TRIGGER CAPNHAT_SOLUONGTON_XOA_HD ON CHITIET_HOADON_SP
FOR DELETE
AS 
BEGIN
	DECLARE @SL INT
	SELECT @SL = SOLUONG FROM deleted
	UPDATE SANPHAM SET SLTON += @SL WHERE MASP =  (SELECT MASP FROM deleted)
END
GO

INSERT CHITIET_HOADON_SP VALUES('HD001','SP018',1,114000)
INSERT CHITIET_HOADON_SP VALUES('HD001','SP024',3,98000)
INSERT CHITIET_HOADON_SP VALUES('HD002','SP019',1,169000)
INSERT CHITIET_HOADON_SP VALUES('HD002','SP034',5,189000)
INSERT CHITIET_HOADON_SP VALUES('HD002','SP037',1,23000)
INSERT CHITIET_HOADON_DV VALUES('HD002','DV020',3000000,'P314')

INSERT CHITIET_HOADON_SP VALUES('HD003','SP008',1,217000)
INSERT CHITIET_HOADON_DV VALUES('HD004','DV006',200000,'P304')
INSERT CHITIET_HOADON_DV VALUES('HD004','DV007',120000,'P306')
INSERT CHITIET_HOADON_DV VALUES('HD004','DV009',3000000,'P115')

INSERT CHITIET_HOADON_SP VALUES('HD005','SP017',2,319000)

INSERT CHITIET_HOADON_DV VALUES('HD006','DV020',3000000,'P315')
INSERT CHITIET_HOADON_DV VALUES('HD006','DV001',200000,'P216')
INSERT CHITIET_HOADON_DV VALUES('HD006','DV018',200000,'P101')
INSERT CHITIET_HOADON_DV VALUES('HD007','DV002',200000,'P219')
INSERT CHITIET_HOADON_DV VALUES('HD007','DV013',120000,'P104')
INSERT CHITIET_HOADON_DV VALUES('HD008','DV008',3000000,'P209')
INSERT CHITIET_HOADON_DV VALUES('HD009','DV011',120000,'P210')
INSERT CHITIET_HOADON_DV VALUES('HD009','DV015',3000000,'P204')
INSERT CHITIET_HOADON_SP VALUES('HD006','SP018',1,114000)
INSERT CHITIET_HOADON_SP VALUES('HD006','SP024',3,98000)
INSERT CHITIET_HOADON_SP VALUES('HD007','SP019',1,169000)
INSERT CHITIET_HOADON_SP VALUES('HD007','SP034',5,189000)
INSERT CHITIET_HOADON_SP VALUES('HD008','SP018',1,114000)
INSERT CHITIET_HOADON_SP VALUES('HD009','SP024',3,98000)
INSERT CHITIET_HOADON_SP VALUES('HD009','SP019',1,169000)
INSERT CHITIET_HOADON_SP VALUES('HD009','SP034',5,189000)
GO

CREATE FUNCTION DANHSACH_PHONG_DICHVU(@MALOAIDV CHAR(10))
RETURNS TABLE
AS RETURN (SELECT * FROM PHONG_DICHVU WHERE MADV IN (SELECT MADV FROM DICHVU WHERE MALOAIDV = @MALOAIDV))
GO
CREATE FUNCTION DANHSACH_PHONG_DICHVU_THEO_TEN(@TEN NVARCHAR(100))
RETURNS TABLE
AS RETURN (SELECT * FROM PHONG_DICHVU
		   WHERE MAPH IN (SELECT MAPH FROM PHONG_DICHVU PDV , DICHVU DV WHERE PDV.MADV = DV.MADV AND DV.TENDV LIKE @TEN))
GO
CREATE FUNCTION DANHSACH_PHONG_DICHVU_THEO_MAPH(@MAPH CHAR(10))
RETURNS TABLE
AS RETURN (SELECT * FROM PHONG_DICHVU WHERE MAPH LIKE @MAPH)
GO
CREATE FUNCTION DANHSACH_KHACH_THEO_TEN(@TEN NVARCHAR(100))
RETURNS TABLE
AS RETURN (SELECT * FROM KHACHHANG WHERE HOTEN LIKE @TEN)
GO
create function TONGTIEN_HOADON(@MAHD CHAR(10))
RETURNS INT
AS
BEGIN
	DECLARE @COUNTDV INT, @COUNTSP INT
	SELECT @COUNTDV = COUNT(*) FROM CHITIET_HOADON_DV WHERE MAHD =@MAHD
	SELECT @COUNTSP = COUNT(*) FROM CHITIET_HOADON_SP WHERE MAHD =@MAHD
	IF @COUNTDV !=0 AND @COUNTSP!=0 
		RETURN (SELECT SUM(DV.GIA)+SUM(SP.SOLUONG*SP.GIA) FROM CHITIET_HOADON_DV DV, CHITIET_HOADON_SP SP WHERE DV.MAHD = @MAHD AND SP.MAHD=@MAHD)
	ELSE IF @COUNTDV !=0 AND @COUNTSP=0
		RETURN (SELECT SUM(GIA) FROM CHITIET_HOADON_DV WHERE MAHD = @MAHD)
	ELSE IF @COUNTDV =0 AND @COUNTSP!=0
		RETURN (SELECT SUM(SOLUONG*GIA) FROM CHITIET_HOADON_SP WHERE MAHD = @MAHD)
	RETURN 0
END
GO
create function TONGTIEN_HOADON_DV(@MAHD CHAR(10))
RETURNS INT
AS
BEGIN
	DECLARE @COUNTDV INT
	SELECT @COUNTDV = COUNT(*) FROM CHITIET_HOADON_DV WHERE MAHD =@MAHD
	IF @COUNTDV !=0 
		RETURN (SELECT SUM(DV.GIA) FROM CHITIET_HOADON_DV DV WHERE DV.MAHD = @MAHD)
	RETURN 0
END
GO
create function TONGTIEN_HOADON_SP(@MAHD CHAR(10))
RETURNS INT
AS
BEGIN
	DECLARE @COUNTSP INT
	SELECT @COUNTSP = COUNT(*) FROM CHITIET_HOADON_SP WHERE MAHD =@MAHD
	IF @COUNTSP !=0 
		RETURN (SELECT SUM(SP.GIA*SP.SOLUONG) FROM CHITIET_HOADON_SP SP WHERE SP.MAHD = @MAHD)
	RETURN 0
END
GO
create PROC CAPNHAT_SOLUONGTON_CAPNHAT_HD
@MAHD CHAR(10),@MASP CHAR(10),@SLMOI INT
AS 
BEGIN
	DECLARE @SLCU INT
	SELECT @SLCU = SOLUONG FROM CHITIET_HOADON_SP WHERE MAHD = @MAHD AND MASP = @MASP
	UPDATE SANPHAM SET SLTON= (SLTON +@SLCU) - @SLMOI WHERE MASP =  @MASP
	UPDATE CHITIET_HOADON_SP SET SOLUONG = @SLMOI WHERE MASP=@MASP AND MAHD = @MAHD
END
GO

create proc CapNhat_ThongTin_KhachHang
@MAKH char(10),@HOTEN nvarchar(40),@GIOITINH nvarchar(10),
@NGSINH date,@SDT char(12),@EMAIL varchar(30),@DIACHI nvarchar(max)
as
begin
	update KHACHHANG set HOTEN = @HOTEN where MAKH = @MAKH
	update KHACHHANG set GIOITINH = @GIOITINH where MAKH = @MAKH
	update KHACHHANG set NGSINH = @NGSINH where MAKH = @MAKH
	update KHACHHANG set SDT = @SDT where MAKH = @MAKH
	update KHACHHANG set EMAIL = @EMAIL where MAKH = @MAKH
	update KHACHHANG set DIACHI = @DIACHI where MAKH = @MAKH
end
go

create proc CapNhat_ThongTin_NhanVien
@MANV char(10),@HOTEN nvarchar(40),@GIOITINH nvarchar(10),@CHUCVU nvarchar(30),
@NGSINH date,@SDT char(12),@EMAIL varchar(30),@CCCD char(14),@DIACHI nvarchar(max),@TRANGTHAI int
as
begin
	update NHANVIEN set HOTEN = @HOTEN where MANV = @MANV
	update NHANVIEN set GIOITINH = @GIOITINH where MANV = @MANV
	update NHANVIEN set CHUCVU = @CHUCVU where MANV = @MANV
	update NHANVIEN set NGSINH = @NGSINH where MANV = @MANV
	update NHANVIEN set SDT = @SDT where MANV = @MANV
	update NHANVIEN set EMAIL = @EMAIL where MANV = @MANV
	update NHANVIEN set CCCD = @CCCD where MANV = @MANV
	update NHANVIEN set DIACHI = @DIACHI where MANV = @MANV
	update NHANVIEN set TRANGTHAI = @TRANGTHAI where MANV = @MANV
end
go

create proc CapNhat_ThongTin_DichVu
@MADV char(10),@TENDV nvarchar(40),@GIA float, @ANH nvarchar(30),@LOAIDV char(10)
as
begin
	update DICHVU set TENDV = @TENDV where MADV = @MADV
	update DICHVU set GIA = @GIA where MADV = @MADV
	update DICHVU set MALOAIDV = @LOAIDV where MADV = @MADV
	update DICHVU set ANH = @ANH where MADV = @MADV
end
go

create proc CapNhat_ThongTin_SanPham
@MASP char(10),@TENSP nvarchar(max),@GIATIEN float,@ANH nvarchar(30)
as
begin
	update SANPHAM set TENSP = @TENSP where MASP = @MASP
	update SANPHAM set GIATIEN = @GIATIEN where MASP = @MASP
	update SANPHAM set ANH = @ANH where MASP = @MASP
end
go
create Function DoanhThuTheoThang(@year int)
returns Table
as return(select MONTH(NGAYLAP) AS 'THANG',SUM(DBO.TONGTIEN_HOADON(MAHD)) AS 'TONG'
from HOADON where YEAR(NGAYLAP) = @year
GROUP BY MONTH(NGAYLAP))

GO
create Function DoanhThuTheoNam()
returns Table
as return(select YEAR(NGAYLAP) AS 'NAM',SUM(DBO.TONGTIEN_HOADON(MAHD)) AS 'TONG'
from HOADON where NGAYLAP IS NOT NULL
GROUP BY YEAR(NGAYLAP))
GO
create Function DoanhThuTheoNgay(@Month int)
returns Table
as return(select DAY(NGAYLAP) AS 'NGAY',SUM(DBO.TONGTIEN_HOADON(MAHD)) AS 'TONG'
from HOADON where MONTH(NGAYLAP) = @Month 
GROUP BY DAY(NGAYLAP))
GO
create function SOBAN_SP_THEONGAY(@month int,@masp char(10))
returns table
as return( select Day(H.NGAYLAP) as 'NGAY', sum(CT.SOLUONG) AS 'SOLUONG' 
from CHITIET_HOADON_SP CT, HOADON H 
where CT.MAHD = H.MAHD and MONTH(H.NGAYLAP)=@month and ct.MASP = @masp
group by Day(H.NGAYLAP)  )
go
create function SOBAN_SP_THEOTHANG(@year int,@masp char(10))
returns table
as return( select Month(H.NGAYLAP) as 'THANG', sum(CT.SOLUONG) AS 'SOLUONG' 
from CHITIET_HOADON_SP CT, HOADON H 
where CT.MAHD = H.MAHD and YEAR(H.NGAYLAP)=@year and ct.MASP = @masp
group by Month(H.NGAYLAP) )
go
create function SOBAN_SP_THEONAM(@masp char(10))
returns table
as return( select YEAR(H.NGAYLAP) as 'NAM', sum(CT.SOLUONG) AS 'SOLUONG' 
from CHITIET_HOADON_SP CT, HOADON H 
where CT.MAHD = H.MAHD and NGAYLAP is not null and ct.MASP = @masp
group by YEAR(H.NGAYLAP) )
go
create function LUONG_PV_THEONGAY(@month int,@madv char(10))
returns table
as return( select Day(H.NGAYLAP) as 'NGAY', count(*) AS 'SOLUONG' 
from CHITIET_HOADON_DV CT, HOADON H 
where CT.MAHD = H.MAHD and MONTH(H.NGAYLAP)=@month and ct.MADV = @madv
group by Day(H.NGAYLAP)  )
go

create function LUONG_PV_THEOTHANG(@year int,@madv char(10))
returns table
as return( select Month(H.NGAYLAP) as 'THANG', count(*) AS 'SOLUONG' 
from CHITIET_HOADON_DV CT, HOADON H 
where CT.MAHD = H.MAHD and YEAR(H.NGAYLAP)=@year and ct.MADV = @madv
group by Month(H.NGAYLAP) )
go

create function LUONG_PV_THEONAM(@madv char(10))
returns table
as return( select YEAR(H.NGAYLAP) as 'NAM', count(*) AS 'SOLUONG' 
from CHITIET_HOADON_DV CT, HOADON H 
where CT.MAHD = H.MAHD and NGAYLAP is not null and ct.MADV = @madv
group by YEAR(H.NGAYLAP) )
go

CREATE PROC CAPNHAT_NHACUNGCAP
@MANCC CHAR(10),@TENNCC NVARCHAR(50), @DIACHI NVARCHAR(MAX), @SODIENTHOAI CHAR(15) , @TRANGTHAI INT
AS
	UPDATE NHACUNGCAP SET TENNCC = @TENNCC  WHERE MANCC = @MANCC
	UPDATE NHACUNGCAP SET DIACHI = @DIACHI  WHERE MANCC = @MANCC
	UPDATE NHACUNGCAP SET SDT = @SODIENTHOAI  WHERE MANCC = @MANCC
	UPDATE NHACUNGCAP SET TRANGTHAI = @TRANGTHAI  WHERE MANCC = @MANCC
gO
CREATE PROC THEM_NHACUNGCAP
@MANCC CHAR(10),@TENNCC NVARCHAR(50), @DIACHI NVARCHAR(MAX), @SODIENTHOAI CHAR(15) 
AS
	INSERT NHACUNGCAP VALUES(@MANCC,@TENNCC,@DIACHI,@SODIENTHOAI,1)